{## SBC r, n ##}
{# 'r' can only be 'a' #}

{% set r = "a" %}

{% for carry in [0, 1] %}
    {% for n in relevant8Bits %}
        {% set r_ = (r8 | except(r))[0] %}
        {% asmfor r_, relevant8Bits %}
            {{set_carry(carry)}}
            ld {{r}}, {{r_}}
            sbc {{r}}, {{n}}
        {% endasmfor %}
    {% endfor %}
{% endfor %}
